## Appliance Monitoring ##
brainnroototootototot<br>
1.1 and 1.3
### Firewall Logs ### 
firewalls = the original goats <br>
line of defense at entry point of network!

__ACL (Access Control List):__ list of permitted and denied network connections based on IP addresses, ports, or applications in use. <br> 
good rules for ACL's:
1. block incoming requests from internal, private, loopback, and multicast ip ranges (stop server side forgery)
2. block incoming request from protocols that should only be used locally (ICMP, DHCP, OSPF, SMB) (no need for external usage)
3. configure IPv6 to either block all IPv6 traffic or allow it to ONLY authorized hosts and ports. <br>

__iptables:__ linux-based firewall that uses syslog (514) file format for its logging. <br>

ex:<br>

'''
Jan 11 05:52:56 lx1 kernal:iptables INPUT __drop__ IN=eth0 OUT=MAC...SRC...DST...LEN...TOS...PREC...TTL...ID...DFPROTO=TCP...SPT...DPT...WINDOW...RES...SYN.... 
''' <br> (drop rule)

0 1 2 3 4 5 6 7 <br>

__windows firewall:__ windows-based firewall that uses W3C extended log file format. nice to read bc lots of comments + more overhead<br>

information overload = BAD! <br>
Log retention is ALSO a important factor to consider! <br>

__Blinding Attack:__ condition that occurs when a firewall is under-resourced and cannot log data fast enough, therefore some data is missed. <br>

### Firewall Configurations ###
things to consider for firewalls! <br>

firewalls are only a piece to the puzzle of defense, they do a lot, but once something is inside the network, they are virtually useless! <br>

ISP --> (FIREWALL) --> DMZ --> (FIREWALL) --> CORE

__Screened Subnet:__ physical or logical subnetwork that contains and exposes an organizations's external-facing services to an untrusted network like the internet (i.e. --> wev server). <br>

Drop V Reject: <br>
deny rules can either drop a packet or explicity reject it by sending a TCP RST or an ICMP port/protocol unreachable to the requester. <br>

__Firewalkig:__ reconnaissance technique to enumerate firewall configuration and attempt to prove hosts behind it. <br> (where drop v reject becomes important)

other good rule of thumb... block outgoing ICMP status messages! stops firewalking, and in general, ICMP sh

__Egress Filtering:__ applies ACL rules to outgoing traffic to prevent malware from communicating to C2 servers. <br>
good EGRESS rules: <br>
1. only allow whitelisted application ports and destination addresses.
2. restrict DNS lookup to trusted and authorized DNS servers.
3. block access to known bad IP address ranges (known-bad block list)
4. block ALL internet access from host subnets that DONT use it (ICS, SCADA ...)

at the end of the day, anything can act as a C2 server, ive even seen social media commenting used as a form of data exfiltration, so stopping this malicious outbound traffic with just a firewall only is not expected. <br>

__Black Hole:__ means or mitigating DoS/DDoS/Intrusion attacks by silently dropping traffic. when done at the route level, it can be a lot less resource intensive then have the firewall handle it. <br>
__Sinkhole:__ DoS attack mitigation strategy that directs the traffic that is flooding a target IP address to a different network for analysis. <br> 

__Dark Nets:__ unused physical network ports or unused IP address ports or ip addrs space within a local network often used by attackers. <br>
--> think abt unused address in a subnet. best practice security tells us to send this unused addr's to a black hole so they can be potential used as an attack vector. <br>
### Proxy Logs ###
### Web Application Firewall Logs (Layer 7) ###
### IDS and IPS Configuration ###
### IDS and IPS Logs ###
### Port Security Configuration ###
### NAC Configuration ###